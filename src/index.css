


:root{
    --bg:#ffffff; --surface:#f8fafc; --surface-solid:#f8fafc; --surfaceSolid: var(--surface-solid); --ink:#0b132b; --muted:#64748b; --border:#e5e7eb;
	--primary:#0b132b; --accent:#c5a46d; --accent-ink:#0b132b;
	--grad-start:#4f46e5; --grad-end:#06b6d4; --gold:#c5a46d; --rose:#ef4444; --emerald:#10b981;
    --ring: rgba(30,58,138,.25); --chat-bubble-user-bg:rgb(242, 242, 242);
    --header-h:64px;
    /* Сообщаем браузеру и библиотекам (Radix) о текущей теме */
    color-scheme: light;
}
 [data-theme="dark"]{
	--bg:#0b0f14; --surface:rgba(15,22,34,0.6); --surface-solid:#0f1622; --surfaceSolid: var(--surface-solid); --ink:#e6edf7; --muted:#a5b0c2; --border:#1f2937;
	--primary:#e6edf7; --accent:#93c5fd; --accent-ink:#0b132b;
    --ring: rgba(147,197,253,.25); --chat-bubble-user-bg:rgb(26, 33, 46);
    color-scheme: dark;
 }
*{box-sizing:border-box}
html,body{height:100%}
/* Принудительно фон и цвет из CSS-переменных для обеих тем */
html{background:var(--bg) !important; color:var(--ink) !important}
body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;color:var(--ink);background:var(--bg) !important;line-height:1.6}
/* Контейнеры приложения должны наследовать фон темы, а не белый от библиотек */
#root, html, body, main, header, footer{background:var(--bg) !important; color:var(--ink) !important}
/* Доп. перекрытие для радиксовского корневого контейнера внутри #root */
#root > .rt-Theme, #root > .rt-BaseTheme{background:var(--bg) !important; color:var(--ink) !important}
/* Обёртка Radix Themes по умолчанию красит фон. Делаем его равным фону страницы */
.rt-Theme, .rt-BaseTheme{background:var(--bg) !important; color:var(--ink)}

/* Управление видимостью иконок темы в кнопке: переключаем на основе дата-атрибута */
#themeIcon[data-theme-icon="light"] .sun{display:inline-flex}
#themeIcon[data-theme-icon="light"] .moon{display:none}
#themeIcon[data-theme-icon="dark"] .sun{display:none}
#themeIcon[data-theme-icon="dark"] .moon{display:inline-flex}

/* Database page overrides (Radix components) */
#database-page .rt-SelectTrigger{background:var(--surface-solid) !important; color:var(--ink) !important; border:1px solid var(--border) !important}
#database-page .rt-SelectTrigger:focus{outline:2px solid var(--ring); outline-offset:2px}
#database-page .rt-SelectTrigger[data-state="open"]{outline:2px solid var(--ring); outline-offset:2px}
#database-page .rt-RadioCard{background:var(--surface) !important; border:1px solid var(--border) !important; color:var(--ink) !important}
#database-page .rt-RadioCard:hover{filter:brightness(0.98)}
#database-page .rt-RadioCard[data-state="checked"],
#database-page .rt-RadioCard:focus-visible{outline:2px solid var(--ring); outline-offset:2px; border-color:var(--accent)}

/* Radix portal content (Select dropdowns, poppers) should follow current theme */
.rt-PopperContent,
.rt-SelectContent,
.rt-SelectViewport,
.rt-ScrollAreaViewport{
	background:var(--surface-solid) !important;
	color:var(--ink) !important;
	border:1px solid var(--border) !important;
}
.rt-SelectItem{
	background:transparent !important;
	color:var(--ink) !important;
}
.rt-SelectItem[data-highlighted]{
	background:color-mix(in oklab, var(--accentBg) 18%, transparent) !important;
	color:var(--ink) !important;
}

:where(.rt-RadioCardsRoot.rt-variant-surface) .rt-RadioCardsItem {
	--radio-cards-item-border-width: 1px;
	--radio-cards-item-background-color: var(--surface);
}

.rt-RadioCardsItem:where([data-state="checked"]){
	--radio-cards-item-background-color: var(--accentBg);
}
.rt-RadioCardsItem:where(:not([data-state="checked"])){
	color:var(--ink) !important;
}

/* Typography */
h1{font-family:'Playfair Display', 'Source Serif Pro', Georgia, 'Times New Roman', serif;font-weight:700;line-height:1.15;margin:0 0 8px 0;font-size:56px}
h2{font-family:'Playfair Display', 'Source Serif Pro', Georgia, 'Times New Roman', serif;font-weight:700;line-height:1.2;margin:0 0 8px 0;font-size:32px}
h3{font-family:'Playfair Display', 'Source Serif Pro', Georgia, 'Times New Roman', serif;font-weight:700;line-height:1.25;margin:0 0 6px 0;font-size:22px}

/* Header */
.site-header{position:sticky;top:0;z-index:10;background:var(--bg);border-bottom:1px solid var(--border);backdrop-filter:saturate(1.1)}
.site-header__wrap{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:10px 16px;gap:12px}
.brand{font-family:'Playfair Display','Source Serif Pro', Georgia, 'Times New Roman', serif;font-weight:700;color:var(--primary);text-decoration:none;letter-spacing:.02em}
.nav{display:flex;gap:14px;flex-wrap:wrap}
.nav a{color:var(--primary);text-decoration:none;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.08em;padding:4px 6px;border:none;border-radius:0}
.nav a:hover{text-decoration:underline;background:transparent}

/* Layout */
.container{max-width:1200px;margin:0 auto;padding:20px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:14px}
.card{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:14px}
.text-page-section-container section {
    margin-bottom: 28px;
}
.text-page-section-container section h2 {
    color: var(--accent);
}

/* Buttons */
.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:8px;border:1px solid var(--primary);text-decoration:none;cursor:pointer;transition:all .15s ease}
.btn--primary{background:var(--primary);color:#fff;border-color:var(--primary)}
.btn--ghost{background:transparent;color:var(--primary);border-color:var(--border)}
.btn--accent{background:var(--gold);color:var(--accent-ink);border-color:var(--gold)}
.btn:hover{filter:brightness(.96)}

/* Forms */
label{display:block;font-weight:600;margin:8px 0 6px}
input,textarea,select{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:8px;background:var(--surface);color:var(--ink)}
/* Ensure radios/checkboxes do not expand to full width inside flex labels */
input[type="radio"],
input[type="checkbox"]{width:auto;padding:0;border:none;background:transparent}
input:focus,textarea:focus,select:focus{outline:none;border-color:#334155;box-shadow:0 0 0 3px rgba(11,19,43,.06)}

/* Hero */
.hero{display:grid;grid-template-columns:1.05fr .95fr;gap:16px;align-items:start}
.hero h1{margin:0 0 6px 0}
.hero__title{font-family:'Playfair Display','Source Serif Pro', Georgia, 'Times New Roman', serif;font-weight:700;font-size:56px;line-height:1.15;margin:0 0 8px 0;color:var(--ink)}
.hero p{margin:0 0 12px 0;color:var(--muted)}
.hero .actions{display:flex;gap:8px;flex-wrap:wrap}

/* Hero visual */
.hero-visual{position:relative;min-height:400px;overflow:hidden;background:radial-gradient(80% 80% at 70% 30%, rgba(79,70,229,.18) 0%, rgba(6,182,212,.10) 40%, rgba(255,255,255,0) 70%)}
.hero-visual__laurel{position:absolute;left:-20px;top:-10px;width:42%;max-width:220px;opacity:.9;pointer-events:none}
.hero-visual__justice{position:absolute;right:-8px;bottom:-4px;width:60%;max-width:420px;filter:drop-shadow(0 10px 24px rgba(79,70,229,.25))}

@media (max-width: 768px){
	.hero{grid-template-columns:1fr}
	.hero-visual{min-height:260px}
	.hero-visual__laurel{width:36%}
	.hero-visual__justice{width:56%}
}

/* Sections */
.section{padding:44px 0}
.section--tight{padding:16px 0}
.features{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.feature h3{margin:0 0 6px 0;font-size:18px}
.muted{color:var(--muted)}
.link-underline{text-decoration:underline}

/* Footer */
.footer{border-top:1px solid var(--border);background:var(--bg)}
.footer__wrap{max-width:1200px;margin:0 auto;padding:16px;display:grid;grid-template-columns:1.2fr 1fr 1fr;gap:14px;align-items:start;color:var(--ink)}
.footer small{color:var(--muted)}

/* Practice area */
.practice{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:14px}
.practice__card{display:flex;flex-direction:column;background:var(--surface);border:1px solid var(--border);border-radius:12px;overflow:hidden;color:inherit;text-decoration:none;transition:transform .15s ease, box-shadow .15s ease}
.practice__card:hover{transform:translateY(-2px);box-shadow:0 10px 28px rgba(197,164,109,0.22)}
.practice__img{width:100%;height:180px;object-fit:cover;background:var(--surface)}
.practice__body{padding:12px;border-top:2px solid rgba(197,164,109,.4)}
.practice__title{font-weight:700;margin:0 0 6px 0}
.practice__text{font-size:14px;line-height:1.5}

/* How it works */
.how{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.how__item{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:14px}
.how__icon{font-size:24px}
.how__title{font-weight:700;margin:6px 0}
.how__text{font-size:14px}

@media (max-width: 768px){
	.how{grid-template-columns:1fr}
}

/* Stats */
.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;background:linear-gradient(90deg,rgba(79,70,229,.06),rgba(6,182,212,.06));border:1px solid var(--border);border-radius:12px;padding:14px}
.stat{display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--surface);border-radius:10px;border:1px solid var(--border);padding:12px}
.stat__emoji{font-size:18px}
.stat__value{font-size:24px;font-weight:700}
.stat__label{font-size:12px;color:var(--muted)}

@media (max-width: 768px){
	.stats{grid-template-columns:repeat(2,1fr)}
}

/* CTA */
.section--cta{padding:48px 0}
.cta{display:flex;align-items:center;justify-content:space-between;gap:12px;border:1px solid transparent;border-radius:18px;padding:24px;background:linear-gradient(120deg,var(--grad-start),var(--grad-end));color:#fff}
.cta__title{margin:0 0 4px 0}
.cta__text{opacity:.95}
.cta__actions{display:flex;gap:8px;flex-wrap:wrap}
.cta .btn--primary{background:#fff;color:#111827}
.cta .btn--accent{background:#fde68a;color:#1f2937}

/* Accent chips for titles (optional) */
.practice__title::after{content:"";display:inline-block;width:6px;height:6px;border-radius:999px;background:linear-gradient(90deg,var(--grad-start),var(--grad-end));margin-left:6px;vertical-align:middle}

/* Dock & Sheet removed */



/* Dark mode overrides for common Tailwind utility classes in templates */
[data-theme="dark"] .bg-white{background:var(--surface) !important}
[data-theme="dark"] .bg-gray-50{background:var(--surface) !important}
[data-theme="dark"] .active\:bg-gray-100:active{background:var(--surface) !important}
[data-theme="dark"] .hover\:bg-gray-50:hover{background:var(--surface) !important}
[data-theme="dark"] .border-gray-200{border-color:var(--border) !important}
[data-theme="dark"] .border-gray-300{border-color:var(--border) !important}
[data-theme="dark"] .text-gray-900{color:var(--ink) !important}
[data-theme="dark"] .text-gray-800{color:var(--ink) !important}
[data-theme="dark"] .text-gray-700{color:var(--muted) !important}
[data-theme="dark"] .text-gray-600{color:var(--muted) !important}

/* Mobile nav control via header[data-menu-open] */
header .mobile-nav{display:none}
header[data-menu-open="true"] .mobile-nav{display:block}
@media (min-width: 768px){
	header .mobile-nav{display:none !important}
}
.logo-colors, .logo-colors svg, .logo-colors svg path{color:var(--accent);fill:var(--accent);stroke:var(--accent)}

/* Visible text selection highlight for both light and dark themes */
::selection{background:#bfdbfe;color:#111827;text-shadow:none}
::-moz-selection{background:#bfdbfe;color:#111827;text-shadow:none}
/* Ensure links and form controls have the same visible highlight in light theme */
a::selection, a::-moz-selection{background:#bfdbfe;color:#111827}
input::selection, textarea::selection{background:#bfdbfe;color:#111827}
[data-theme="dark"] ::selection{background:rgba(96,165,250,.35);color:#f9fafb;text-shadow:none}
[data-theme="dark"] ::-moz-selection{background:rgba(96,165,250,.35);color:#f9fafb;text-shadow:none}

/* Text selection override - allow text selection everywhere except UI controls */
* {
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
  user-select: text !important;
}

/* Disable text selection only for interactive UI elements */
button, input[type="button"], input[type="submit"], input[type="reset"],
.rt-Button, .rt-IconButton, .rt-SegmentedControlItem, .rt-TabsTrigger,
.rt-SelectTrigger, .rt-SelectItem, .rt-BaseMenuItem, .rt-SliderRoot,
.rt-ScrollAreaScrollbar, .btn, .nav a, .thread-item__icon, .thread-item__delete-icon {
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  user-select: none !important;
}

/* Ensure text content areas are always selectable */
p, h1, h2, h3, h4, h5, h6, span, div, article, section, main, 
.chat-bubble, .md-answer, .hero__title, .hero p, .practice__text,
.how__text, .stat__label, .cta__text, textarea, input[type="text"],
input[type="email"], input[type="password"], pre, code {
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
  user-select: text !important;
}

/* Chat bubbles */
.chat-bubble{max-width:85%; padding:10px 14px; border-radius:18px; font-size:14px; line-height:1.5; word-break:break-word; box-shadow:0 1px 0 rgba(0,0,0,.03)}
.chat-bubble--user{background-color:var(--chat-bubble-user-bg); color:var(--ink); border-top-right-radius:6px}
.chat-bubble--ai{box-shadow:none}
/* Error bubble appears like AI message but with red emphasis */
.chat-bubble--error{background:color-mix(in oklab, var(--rose) 12%, transparent); border:1px solid color-mix(in oklab, var(--rose) 40%, transparent); color:var(--rose)}

/* Tool call inline loader */
.tool-call-ui{margin-top:6px; display:flex; align-items:center; gap:6px; font-size:12px; color:var(--muted)}
.tool-call-spinner{display:inline-block; width:12px; height:12px; border:2px solid var(--border); border-top-color: var(--muted); border-radius:999px; animation:spin .9s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* Source chips styles */
.source-chips{display:flex; flex-wrap:wrap; gap:6px; margin-top:8px}
.source-chip{display:inline-flex; align-items:center; gap:6px; padding:6px 8px; border:1px solid var(--border); border-radius:10px; background:var(--surface); font-size:12px; color:var(--ink)}
.source-chip .file-icon{width:14px; height:14px; display:inline-block; border:1px solid var(--border); border-radius:3px; background:linear-gradient(180deg, color-mix(in oklab, var(--accent) 10%, transparent), transparent)}

/* Typing dots animation for AI placeholder */
.typing{display:inline-flex;align-items:center;gap:4px;min-height:12px}
.typing span{width:6px;height:6px;border-radius:999px;background:var(--muted);opacity:.4;display:inline-block;animation:typing-bounce 1.2s infinite ease-in-out}
.typing span:nth-child(1){animation-delay:0s}
.typing span:nth-child(2){animation-delay:.15s}
.typing span:nth-child(3){animation-delay:.3s}
@keyframes typing-bounce{0%,80%,100%{transform:translateY(0);opacity:.35}40%{transform:translateY(-3px);opacity:.9}}

/* Thread list items with icons staying within row */
.thread-item{display:flex; max-width:100%; align-items:center; justify-content:space-between; gap:6px}
.thread-item__title{display:block; flex:1; max-width:100%; text-overflow:ellipsis; white-space:nowrap; overflow:hidden; border-radius:8px; padding:6px 8px; text-align:left}
.thread-item__icon, .thread-item__delete-icon{display:inline-flex; align-items:center; justify-content:center; width:26px; height:26px; border-radius:6px; color:#9CA3AF; background:transparent; border:1px solid transparent}
.thread-item__icon:hover{color:#4B5563; background:var(--surface); border-color:var(--border)}
.thread-item__delete-icon:hover{color:red; background:var(--surface); border-color:var(--border)}
.thread-button-group{display:flex; align-items:center; gap:6px}

.popup-item-desktop:hover{background:var(--surface); color:var(--ink)}

/* Main Background with Smooth Transitions */
.modern-bg{position:relative;overflow:hidden;background:var(--pageBg)}
.modern-bg > *{position:relative;z-index:1}

/* Removed gradient section styles */

/* Smooth transition sections */
.content-transition{background:linear-gradient(180deg,transparent 0%,color-mix(in oklab,var(--cardBg) 80%,transparent) 50%,var(--cardBg) 100%);padding:80px 0 40px;margin-top:-40px}

/* Liquid Glass Grid */
.liquid-glass-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;perspective:1000px;position:relative;width:100%;grid-auto-rows:max-content}
.liquid-glass-item{position:relative;background:rgba(255,255,255,0.05);backdrop-filter:blur(25px) saturate(180%);border:1px solid rgba(255,255,255,0.15);border-radius:20px;padding:24px;transition:all 0.4s cubic-bezier(0.23,1,0.32,1);overflow:hidden;transform-style:preserve-3d;cursor:pointer;height:auto;box-shadow:2px 6px 6px color-mix(in oklab,var(--cardBorder) 30%,transparent)}

/* Glass refraction effects */
.liquid-glass-item::after{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3) var(--glow-x,50%),transparent);opacity:0;transition:opacity 0.3s ease,transform 0.3s ease}
.liquid-glass-item:hover::after{opacity:1;transform:translateX(var(--glow-offset,0px))}

/* Background distortion */
.glass-distortion{position:absolute;inset:0;border-radius:20px;background:radial-gradient(circle at var(--mouse-x,50%) var(--mouse-y,50%),rgba(255,255,255,0.12) 0%,rgba(255,255,255,0.04) 30%,transparent 60%);opacity:0;transition:opacity 0.3s ease;mix-blend-mode:overlay;filter:blur(0.5px)}
.liquid-glass-item:hover .glass-distortion{opacity:1}

/* Additional glass realism */
.glass-reflection{position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,rgba(255,255,255,0.03) 0%,transparent 100%);border-radius:20px 20px 0 0;pointer-events:none}
.glass-chromatic{position:absolute;inset:1px;border-radius:19px;background:linear-gradient(45deg,rgba(0,150,255,0.02),rgba(255,0,150,0.02),rgba(150,255,0,0.02));opacity:0;transition:opacity 0.3s ease;mix-blend-mode:screen}
.liquid-glass-item:hover .glass-chromatic{opacity:1}

/* Content styling */
.glass-content{position:relative;z-index:2}
.glass-icon{width:48px;height:48px;border-radius:12px;background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;margin-bottom:16px;border:1px solid rgba(255,255,255,0.2)}
.glass-title{font-size:16px;font-weight:600;color:var(--text);margin-bottom:8px;line-height:1.4}
.glass-description{font-size:13px;color:var(--muted);line-height:1.5;opacity:0.9}

/* Enhanced hover state */
.liquid-glass-item:hover{transform:translateY(-4px) rotateX(calc(var(--rotate-x,0deg) * -1)) rotateY(calc(var(--rotate-y,0deg) * -1)) scale(1.02);border-color:rgba(255,255,255,0.3);background:rgba(255,255,255,0.08);box-shadow:0 25px 50px rgba(0,0,0,0.15),inset 0 1px 0 rgba(255,255,255,0.2),0 0 30px rgba(255,255,255,0.1)}
.liquid-glass-item:hover .glass-icon{background:rgba(255,255,255,0.15);border-color:rgba(255,255,255,0.3);transform:scale(1.05)}

/* Active card state */
.liquid-glass-item.active{border-color:color-mix(in oklab,var(--accent) 40%,transparent);background:rgba(255,255,255,0.06);box-shadow:0 15px 30px color-mix(in oklab,var(--accent) 20%,transparent),inset 0 1px 0 rgba(255,255,255,0.15)}
.liquid-glass-item.active:not(:hover){
  transform:translateY(-2px) rotateX(calc(var(--rotate-x,0deg) * -1)) rotateY(calc(var(--rotate-y,0deg) * -1)) scale(1.01);
}
.liquid-glass-item.active:not(:hover)::after{opacity:1;transform:translateX(var(--glow-offset,0px))}
.liquid-glass-item.active:not(:hover) .glass-distortion{opacity:1}
.liquid-glass-item.active:not(:hover) .glass-chromatic{opacity:1}
.liquid-glass-item.active .glass-icon{background:color-mix(in oklab,var(--accent) 15%,transparent);border-color:color-mix(in oklab,var(--accent) 30%,transparent)}

/* Mobile optimizations */
@media (max-width:1024px){
.liquid-glass-grid{width:100%}
.liquid-glass-item{padding:22px}
}

@media (max-width:768px){
.liquid-glass-grid{grid-template-columns:1fr;gap:16px;width:100%;max-width:400px}
.liquid-glass-item{padding:20px;transform:none !important}
.liquid-glass-item:hover{transform:translateY(-2px) !important}
.glass-icon{width:40px;height:40px}
.glass-title{font-size:15px}
.glass-description{font-size:12px}
/* Текстовый блок карточек преимуществ на мобилке на всю ширину */
.glass-card-content{width:100%}
}

@media (max-width:480px){
.liquid-glass-grid{max-width:320px;gap:12px}
.liquid-glass-item{padding:16px}
.glass-icon{width:36px;height:36px}
}

/* Modern Cards */
.neo-card{position:relative;background:var(--cardBg);border:1px solid color-mix(in oklab,var(--cardBorder) 60%,transparent);border-radius:20px;padding:24px;transition:all 0.3s cubic-bezier(0.23,1,0.32,1);overflow:hidden}
.neo-card::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,color-mix(in oklab,var(--accent) 40%,transparent) 50%,transparent);opacity:0;transition:opacity 0.3s ease}
.neo-card:hover{transform:translateY(-4px);border-color:color-mix(in oklab,var(--accent) 30%,transparent);box-shadow:0 20px 40px color-mix(in oklab,var(--accent) 15%,transparent)}
.neo-card:hover::before{opacity:1}

/* Feature Grid with floating elements */
.feature-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:24px;position:relative}
.feature-item{position:relative;background:var(--cardBg);border:1px solid color-mix(in oklab,var(--cardBorder) 50%,transparent);border-radius:24px;padding:32px 24px;transition:all 0.4s cubic-bezier(0.23,1,0.32,1);overflow:hidden}
.feature-item::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:conic-gradient(from 0deg,transparent,color-mix(in oklab,var(--accent) 20%,transparent),transparent);opacity:0;transition:all 0.6s ease;animation:rotate 10s linear infinite;border-radius:50%}
.feature-item:hover::before{opacity:1}
.feature-item::after{content:'';position:absolute;inset:2px;background:var(--cardBg);border-radius:22px;z-index:1}
.feature-item > *{position:relative;z-index:2}
@keyframes rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}

/* Icon containers */
.icon-glow{position:relative;width:64px;height:64px;border-radius:20px;background:linear-gradient(135deg,color-mix(in oklab,var(--accent) 20%,transparent),color-mix(in oklab,#22d3ee 15%,transparent));display:flex;align-items:center;justify-content:center;margin-bottom:20px}
.icon-glow::before{content:'';position:absolute;inset:-2px;border-radius:22px;background:linear-gradient(135deg,color-mix(in oklab,var(--accent) 40%,transparent),color-mix(in oklab,#22d3ee 30%,transparent));z-index:-1;filter:blur(8px);opacity:0.7}

/* Floating particles */
.particles{position:absolute;inset:0;overflow:hidden;pointer-events:none}
.particle{position:absolute;width:4px;height:4px;border-radius:50%;background:color-mix(in oklab,var(--accent) 30%,transparent);animation:float 8s ease-in-out infinite}
@keyframes float{0%,100%{transform:translateY(0px) scale(1);opacity:0.8}50%{transform:translateY(-20px) scale(1.2);opacity:0.4}}

/* Advantages Section with Gradient (mirrored from above section) */
.advantages-section{position:relative;background:linear-gradient(180deg,color-mix(in oklab,var(--cardBg) 80%,transparent) 0%,var(--cardBg) 50%,transparent 100%);overflow:hidden}
.advantages-section::before{content:'';position:absolute;bottom:0;left:0;width:60%;height:100%;background:radial-gradient(ellipse at 20% 80%,color-mix(in oklab,var(--accent) 6%,transparent) 0%,color-mix(in oklab,#22d3ee 4%,transparent) 40%,transparent 70%);pointer-events:none;z-index:0}

/* Floating particles for advantages section */
.floating-particles{position:absolute;inset:0;overflow:hidden;pointer-events:none;z-index:1}
.floating-particle{position:absolute;width:3px;height:3px;border-radius:50%;background:color-mix(in oklab,var(--accent) 40%,transparent);animation:floatUp 12s ease-in-out infinite}
@keyframes floatUp{0%{transform:translateY(100vh) translateX(0px) scale(0.5);opacity:0}10%{opacity:0.8}90%{opacity:0.3}100%{transform:translateY(-20vh) translateX(var(--drift-x,0px)) scale(1.2);opacity:0}}

/* Glass Number Cards */
.glass-number-card{position:relative;background:rgba(255,255,255,0.06);backdrop-filter:blur(20px) saturate(150%);border:1px solid rgba(255,255,255,0.18);border-radius:24px;padding:32px 24px;transition:all 0.5s cubic-bezier(0.23,1,0.32,1);overflow:hidden;transform-style:preserve-3d;box-shadow:0 8px 32px color-mix(in oklab,var(--accent) 8%,transparent),inset 0 1px 0 rgba(255,255,255,0.12)}
.glass-number-card::before{content:'';position:absolute;inset:0;border-radius:24px;background:linear-gradient(135deg,rgba(255,255,255,0.1) 0%,transparent 50%);pointer-events:none}
.glass-number-card:hover{transform:translateY(-8px) scale(1.02);border-color:rgba(255,255,255,0.25);box-shadow:0 20px 40px color-mix(in oklab,var(--accent) 12%,transparent),inset 0 1px 0 rgba(255,255,255,0.2)}

/* Glass Numbers */
.glass-number{position:absolute;top:0;right:24px;bottom:0;width:auto;height:100%;display:flex;align-items:center;justify-content:center;font-size:120px;font-weight:900;color:color-mix(in oklab,var(--accent) 40%,transparent);text-shadow:none;pointer-events:none;z-index:1}

/* Flex Grid for advantages */
.advantages-flex-grid{display:flex;flex-wrap:wrap;gap:32px;width:100%}
.advantages-flex-grid > *{flex:1;min-width:300px}

/* Card content */
.glass-card-content{position:relative;z-index:2;width:60%}
.glass-card-icon{width:56px;height:56px;border-radius:16px;background:linear-gradient(135deg,color-mix(in oklab,var(--accent) 15%,transparent),color-mix(in oklab,#22d3ee 10%,transparent));backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.15);display:flex;align-items:center;justify-content:center;margin-bottom:20px;transition:all 0.3s ease}
.glass-number-card:hover .glass-card-icon{background:linear-gradient(135deg,color-mix(in oklab,var(--accent) 20%,transparent),color-mix(in oklab,#22d3ee 15%,transparent));border-color:rgba(255,255,255,0.25)}

/* Section Divider */
.section-divider{position:relative;width:100%;height:1px;background:linear-gradient(90deg,transparent,color-mix(in oklab,var(--accent) 60%,transparent) 50%,transparent);}
.section-divider::after{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:12px;height:12px;border-radius:50%;background:radial-gradient(circle,var(--accent),color-mix(in oklab,var(--accent) 70%,transparent));box-shadow:0 0 20px color-mix(in oklab,var(--accent) 50%,transparent);animation:pulse 2s ease-in-out infinite; z-index:100;}
@keyframes pulse{0%,100%{transform:translate(-50%,-50%) scale(1);opacity:1}50%{transform:translate(-50%,-50%) scale(1.2);opacity:0.8}}

/* Scroll indicator */
.scroll-indicator{position:fixed;top:0;left:0;width:100%;height:4px;background:color-mix(in oklab,var(--cardBorder) 30%,transparent);z-index:100}
.scroll-progress{height:100%;background:linear-gradient(90deg,var(--accent),#22d3ee);transition:width 0.1s ease}

.glass-btn{position:relative;overflow:hidden;border:0;padding:12px 18px;border-radius:14px;cursor:pointer;font-weight:600;letter-spacing:.2px;backdrop-filter:blur(8px) saturate(125%);background:linear-gradient(120deg,color-mix(in oklab,var(--accent) 35%,transparent),color-mix(in oklab,#22d3ee 35%,transparent));color:#fff;outline:none;box-shadow:inset 0 0 0 1px rgba(255,255,255,.18),0 10px 20px rgba(0,0,0,.18)}
.glass-btn.secondary{background:linear-gradient(120deg,color-mix(in oklab,#64748b 30%,transparent),color-mix(in oklab,#94a3b8 30%,transparent))}
.glass-btn:active{transform:translateY(1px)}
.glass-btn .ripple{position:absolute;width:10px;height:10px;border-radius:999px;pointer-events:none;left:0;top:0;translate:-50% -50%;background:rgba(255,255,255,.7);animation:ripple 700ms ease-out forwards;filter:blur(.5px)}
@keyframes ripple{from{transform:scale(1);opacity:.65}to{transform:scale(40);opacity:0}}
.kbd-btn{background:transparent;border:1px solid var(--cardBorder);border-radius:12px;padding:10px 14px;color:var(--text);cursor:pointer}
.kbd-btn:focus-visible{outline:2px solid color-mix(in oklab,#22d3ee 60%,transparent);outline-offset:2px}
.palette-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.4);backdrop-filter:blur(2px);z-index:60}
.palette{position:fixed;inset:10% auto auto 50%;translate:-50% 0;width:min(680px,92vw);background:var(--cardBg);border-radius:16px;box-shadow:0 30px 80px rgba(0,0,0,.5);padding:10px;z-index:70;border:1px solid var(--cardBorder)}
.palette-input{width:100%;border:0;outline:none;padding:14px 12px;border-radius:12px;margin:4px 0 8px;color:var(--text);background:color-mix(in oklab,var(--cardBg) 70%,transparent);box-shadow:inset 0 0 0 1px var(--cardBorder)}
.palette-list{list-style:none;margin:0;padding:0;max-height:280px;overflow:auto}
.palette-list li{padding:10px 12px;border-radius:10px;cursor:pointer}
.palette-list li.active{background:linear-gradient(90deg,color-mix(in oklab,#22d3ee 20%,transparent),transparent)}
.palette-list li.empty{color:var(--muted);cursor:default}
.tilt{perspective:900px}
.tilt-inner{position:relative;transform:rotateX(var(--rx,0deg)) rotateY(var(--ry,0deg));transition:transform 120ms ease;border-radius:18px;overflow:hidden;box-shadow:0 25px 60px rgba(0,0,0,.3)}
.tilt-inner img{display:block;width:100%;height:auto}
.tilt-content{position:absolute;inset:auto 0 0 0;padding:14px;background:linear-gradient(to top,rgba(0,0,0,.45),transparent 50%);color:#fff}
.glare{position:absolute;inset:-30%;background:radial-gradient(circle at calc(var(--px,.5)*100%) calc(var(--py,.1)*100%),rgba(255,255,255,.35),transparent 40%);mix-blend-mode:screen;pointer-events:none}
.auth{display:grid;gap:14px;background:linear-gradient(180deg,color-mix(in oklab,var(--cardBg) 92%,transparent),color-mix(in oklab,var(--cardBg) 80%,transparent));padding:18px;border-radius:16px;border:1px solid var(--cardBorder)}
.field{position:relative}
.field input{width:100%;padding:18px 44px 14px 12px;border-radius:12px;border:0;color:var(--text);outline:none;background:color-mix(in oklab,var(--cardBg) 70%,transparent);box-shadow:inset 0 0 0 1px var(--cardBorder)}
.field label{position:absolute;left:12px;top:50%;transform:translateY(-50%);pointer-events:none;color:var(--muted);transition:all .18s ease;background:transparent;padding:0 4px}
.field input:focus,.field input:not(:placeholder-shown){box-shadow:inset 0 0 0 2px color-mix(in oklab,var(--accent) 50%,transparent),0 0 0 4px color-mix(in oklab,var(--accent) 20%,transparent)}
.field input:focus+label,.field input:not(:placeholder-shown)+label{top:8px;transform:none;font-size:12px;color:color-mix(in oklab,var(--accent) 70%,var(--muted))}
.field .show{position:absolute;right:6px;top:50%;transform:translateY(-50%);background:transparent;border:0;font-size:16px;cursor:pointer}
.error{color:#ef4444;font-size:12px;margin-top:6px}
.auth .hint{color:var(--muted);margin:4px 2px 2px;font-size:12px}
.field input::placeholder{color:transparent}
.card-skeleton{background:var(--cardBg);border-radius:16px;overflow:hidden;padding:12px;border:1px solid var(--cardBorder)}
.shimmer{position:relative;overflow:hidden;background:linear-gradient(90deg,color-mix(in oklab,var(--text) 8%,transparent),color-mix(in oklab,var(--text) 12%,transparent),color-mix(in oklab,var(--text) 8%,transparent))}
.shimmer::after{content:"";position:absolute;inset:0;transform:translateX(-100%);animation:shimmer 1.5s infinite;background:linear-gradient(90deg,transparent,rgba(255,255,255,.25),transparent)}
@keyframes shimmer{100%{transform:translateX(100%)}}
.sk-image{height:160px;border-radius:12px}
.sk-lines{padding:12px 8px;display:grid;gap:10px}
.sk-line{height:12px;border-radius:8px}
.sk-line.short{width:60%}
.loaded-card{background:var(--cardBg);border:1px solid var(--cardBorder);border-radius:16px;padding:12px}
.loaded-card img{width:100%;height:auto;border-radius:12px}

/* Hero Fullscreen Styles */
.hero-fullscreen{position:relative;height:100vh;overflow:hidden;background:radial-gradient(ellipse at 30% 50%,color-mix(in oklab,var(--accent) 25%,transparent),color-mix(in oklab,var(--accent) 8%,transparent) 40%,var(--pageBg) 70%),linear-gradient(135deg,color-mix(in oklab,var(--accent) 15%,var(--pageBg)),var(--pageBg) 60%,color-mix(in oklab,var(--accent) 10%,var(--pageBg)))}
.hero-container{display:grid;grid-template-columns:1fr 1fr;height:100%;align-items:center}
.hero-content{padding:4rem 3rem 4rem 4rem;display:flex;align-items:center;justify-content:center}
.hero-text{max-width:540px}
.hero-title{font-size:clamp(2.5rem,6vw,4.5rem);font-weight:700;line-height:1.1;margin-bottom:1.5rem;color:var(--accent);letter-spacing:-0.02em}
.hero-description{font-size:1.125rem;line-height:1.6;color:var(--muted);margin-bottom:2.5rem;opacity:0.9}
.hero-actions{display:flex;gap:1rem;align-items:center}
.hero-chat-container{position:relative;height:100%;display:flex;align-items:center;justify-content:center;padding:2rem 4rem 2rem 2rem}
.hero-chat-wrapper{position:relative;width:100%;height:80%;max-height:600px;border-radius:20px;overflow:hidden;border:1px solid var(--cardBorder);background:var(--cardBg);display:flex;flex-direction:column}
.chat-header{background:color-mix(in oklab,var(--accent) 10%,var(--cardBg));border-bottom:1px solid var(--cardBorder);padding:1rem 1.5rem}
.chat-header-content{display:flex;align-items:center;gap:0.75rem}
.chat-title{font-weight:600;color:var(--text);font-size:1.1rem}
.chat-status{color:var(--muted);font-size:0.875rem}
.chat-messages{flex:1;padding:1.5rem;overflow-y:auto;display:flex;flex-direction:column;gap:1rem;min-height:0}
.user-message{display:flex;justify-content:flex-end;opacity:0;transform:translateY(20px);transition:all 0.5s ease-out}
.user-message.show{opacity:1;transform:translateY(0)}
.ai-message{display:flex;align-items:flex-start;gap:0.75rem;opacity:0;transform:translateY(10px);transition:all 0.3s ease-out}
.ai-message.show{opacity:1;transform:translateY(0)}
.ai-avatar{width:32px;height:32px;border-radius:50%;background:var(--accent);color:var(--btnText);display:flex;align-items:center;justify-content:center;font-size:0.75rem;font-weight:600;flex-shrink:0}
.message-bubble{max-width:85%;padding:0.875rem 1.125rem;border-radius:18px;line-height:1.5;font-size:0.9rem}
.user-bubble{background:var(--accent);color:var(--btnText);border-bottom-right-radius:6px}
.ai-bubble{background:color-mix(in oklab,var(--cardBorder) 50%,transparent);color:var(--text);border-bottom-left-radius:6px}
.typing-cursor{animation:blink 1s infinite;margin-left:2px}
@keyframes blink{0%,50%{opacity:1}51%,100%{opacity:0}}
.chat-input-area{border-top:1px solid var(--cardBorder);padding:1rem 1.5rem;background:var(--cardBg)}
.chat-input-wrapper{display:flex;gap:0.75rem;align-items:center}
.chat-input{flex:1;padding:0.75rem 1rem;border:1px solid var(--cardBorder);border-radius:24px;background:var(--pageBg);color:var(--muted);font-size:0.9rem;outline:none}
.send-button{width:40px;height:40px;border-radius:50%;background:color-mix(in oklab,var(--accent) 80%,transparent);color:var(--accent);border:none;display:flex;align-items:center;justify-content:center;cursor:not-allowed}
.hero-chat-gradient{position:absolute;bottom:0;left:0;right:0;height:30%;background:linear-gradient(to top,var(--pageBg),color-mix(in oklab,var(--pageBg) 70%,transparent) 60%,transparent);pointer-events:none}

/* Responsive Design */
@media (max-width:1024px){
.hero-container{grid-template-columns:1.2fr 0.8fr}
.hero-content{padding:3rem 2rem 3rem 3rem}
.hero-chat-container{padding:2rem 3rem 2rem 1.5rem}
.hero-chat-wrapper{width:90%;height:75%}
}

@media (max-width:768px){
.hero-container{grid-template-columns:1fr;grid-template-rows:1fr auto;gap:0}
.hero-content{padding:3rem 2rem 2rem;order:1}
.hero-text{text-align:center}
.hero-title{font-size:clamp(2rem,8vw,3rem)}
.hero-description{font-size:1rem}
.hero-actions{justify-content:center}
.hero-chat-container{order:2;height:50vh;padding:0 2rem 2rem;align-items:flex-start}
.hero-chat-wrapper{width:100%;height:100%;max-width:400px;margin:0 auto}
.chat-messages{padding:1rem;gap:0.75rem}
.message-bubble{font-size:0.85rem;padding:0.75rem 1rem}
}

@media (max-width:520px){
.hero-fullscreen{height:100svh}
.hero-content{padding:2rem 1.5rem 1.5rem}
.hero-chat-container{padding:0 1.5rem 1.5rem}
.hero-actions{flex-direction:column;gap:0.75rem}
.hero-chat-wrapper{max-width:100%}
.chat-header{padding:0.75rem 1rem}
.chat-messages{padding:0.75rem;gap:0.5rem}
.chat-input-area{padding:0.75rem 1rem}
}

@media (max-width: 768px){
  .thread-item{grid-template-columns:1fr auto auto}
  .chat-bubble{max-width:90%}
  /* Мобильная версия чата без рамок и скруглений */
  #chatBody{border:none !important; border-radius:0 !important}
}

/* Высота страницы чата: 100vh минус высота хэдера, без скролла body */
.chat-fullscreen{
  height:calc(100dvh - var(--header-h, 56px));
}

/* Timeline component styles */
.timeline-bubble-start {
    position: absolute;
    top: -32px;
    font-size: 11px;
    font-weight: 600;
    padding: 2px 8px;
    border-radius: 4px;
    white-space: nowrap;
    background: color-mix(in oklab, var(--accent) 10%, transparent);
    color: var(--accent);
}

.timeline-bubble-end {
    position: absolute;
    top: -32px;
    font-size: 11px;
    font-weight: 600;
    padding: 2px 8px;
    border-radius: 4px;
    white-space: nowrap;
    background: color-mix(in oklab, var(--accent) 10%, transparent);
    color: var(--accent);
}

.timeline-bubble-today {
    position: absolute;
    bottom: -48px;
    font-size: 11px;
    font-weight: 600;
    padding: 2px 8px;
    border-radius: 4px;
    white-space: nowrap;
    background: color-mix(in oklab, var(--accent) 10%, transparent);
    color: var(--accent);
}

.timeline-date-start {
    position: absolute;
    bottom: -24px;
    font-size: 11px;
    white-space: nowrap;
    color: var(--muted);
}

.timeline-date-end {
    position: absolute;
    bottom: -24px;
    font-size: 11px;
    white-space: nowrap;
    color: var(--muted);
}

/* Mobile responsive timeline bubbles */
@media (max-width: 640px) {
    .timeline-bubble-start,
    .timeline-bubble-end {
        top: -48px;
        max-width: 80px;
        white-space: normal;
        text-align: center;
        line-height: 1.2;
    }
    
    .timeline-bubble-today {
        bottom: -64px;
        max-width: 90px;
        white-space: normal;
        text-align: center;
        line-height: 1.2;
    }
}

/* Стили для модальных окон отмены подписки */
.modal-backdrop {
    position: fixed;
    inset: 0;
    z-index: 50;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.2s ease-out;
}

.modal-content {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 1rem;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    max-width: 28rem;
    width: 100%;
    margin: 1rem;
    max-height: 90vh;
    overflow-y: auto;
    animation: slideIn 0.3s ease-out;
}

.modal-icon-success {
    background: color-mix(in oklab, #10b981 15%, transparent);
    color: #10b981;
}

.modal-icon-warning {
    background: color-mix(in oklab, #ef4444 15%, transparent);
    color: #ef4444;
}

.modal-icon-info {
    background: color-mix(in oklab, var(--accent) 15%, transparent);
    color: var(--accent);
}

.radio-option {
    transition: all 0.2s ease;
}

.radio-option:hover {
    background: color-mix(in oklab, var(--accent) 5%, transparent);
}

.radio-option.selected {
    background: color-mix(in oklab, var(--accent) 10%, transparent);
    border-color: var(--accent);
}

.radio-dot {
    width: 1rem;
    height: 1rem;
    border-radius: 50%;
    border: 2px solid var(--border);
    margin-right: 0.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: border-color 0.2s ease;
}

.radio-dot.selected {
    border-color: var(--accent);
}

.radio-dot-inner {
    width: 0.5rem;
    height: 0.5rem;
    border-radius: 50%;
    background: var(--accent);
}

.loading-spinner {
    width: 1rem;
    height: 1rem;
    border: 2px solid #ffffff;
    border-top: 2px solid transparent;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(-20px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}