


:root{
    --bg:#ffffff; --surface:#f8fafc; --surface-solid:#f8fafc; --surfaceSolid: var(--surface-solid); --ink:#0b132b; --muted:#64748b; --border:#e5e7eb;
	--primary:#0b132b; --accent:#c5a46d; --accent-ink:#0b132b;
	--grad-start:#4f46e5; --grad-end:#06b6d4; --gold:#c5a46d; --rose:#ef4444; --emerald:#10b981;
    --ring: rgba(30,58,138,.25); --chat-bubble-user-bg:rgb(242, 242, 242);
    --header-h:64px;
    /* Сообщаем браузеру и библиотекам (Radix) о текущей теме */
    color-scheme: light;
}
 [data-theme="dark"]{
	--bg:#0b0f14; --surface:rgba(15,22,34,0.6); --surface-solid:#0f1622; --surfaceSolid: var(--surface-solid); --ink:#e6edf7; --muted:#a5b0c2; --border:#1f2937;
	--primary:#e6edf7; --accent:#93c5fd; --accent-ink:#0b132b;
    --ring: rgba(147,197,253,.25); --chat-bubble-user-bg:rgb(26, 33, 46);
    color-scheme: dark;
 }
*{box-sizing:border-box}
html,body{height:100%}
/* Принудительно фон и цвет из CSS-переменных для обеих тем */
html{background:var(--bg) !important; color:var(--ink) !important}
body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;color:var(--ink);background:var(--bg) !important;line-height:1.6}
/* Контейнеры приложения должны наследовать фон темы, а не белый от библиотек */
#root, html, body, main, header, footer{background:var(--bg) !important; color:var(--ink) !important}
/* Доп. перекрытие для радиксовского корневого контейнера внутри #root */
#root > .rt-Theme, #root > .rt-BaseTheme{background:var(--bg) !important; color:var(--ink) !important}
/* Обёртка Radix Themes по умолчанию красит фон. Делаем его равным фону страницы */
.rt-Theme, .rt-BaseTheme{background:var(--bg) !important; color:var(--ink)}

/* Управление видимостью иконок темы в кнопке: переключаем на основе дата-атрибута */
#themeIcon[data-theme-icon="light"] .sun{display:inline-flex}
#themeIcon[data-theme-icon="light"] .moon{display:none}
#themeIcon[data-theme-icon="dark"] .sun{display:none}
#themeIcon[data-theme-icon="dark"] .moon{display:inline-flex}

/* Database page overrides (Radix components) */
#database-page .rt-SelectTrigger{background:var(--surface-solid) !important; color:var(--ink) !important; border:1px solid var(--border) !important}
#database-page .rt-SelectTrigger:focus{outline:2px solid var(--ring); outline-offset:2px}
#database-page .rt-SelectTrigger[data-state="open"]{outline:2px solid var(--ring); outline-offset:2px}
#database-page .rt-RadioCard{background:var(--surface) !important; border:1px solid var(--border) !important; color:var(--ink) !important}
#database-page .rt-RadioCard:hover{filter:brightness(0.98)}
#database-page .rt-RadioCard[data-state="checked"],
#database-page .rt-RadioCard:focus-visible{outline:2px solid var(--ring); outline-offset:2px; border-color:var(--accent)}

/* Radix portal content (Select dropdowns, poppers) should follow current theme */
.rt-PopperContent,
.rt-SelectContent,
.rt-SelectViewport,
.rt-ScrollAreaViewport{
	background:var(--surface-solid) !important;
	color:var(--ink) !important;
	border:1px solid var(--border) !important;
}
.rt-SelectItem{
	background:transparent !important;
	color:var(--ink) !important;
}
.rt-SelectItem[data-highlighted]{
	background:color-mix(in oklab, var(--accentBg) 18%, transparent) !important;
	color:var(--ink) !important;
}

:where(.rt-RadioCardsRoot.rt-variant-surface) .rt-RadioCardsItem {
	--radio-cards-item-border-width: 1px;
	--radio-cards-item-background-color: var(--surface);
}

.rt-RadioCardsItem:where([data-state="checked"]){
	--radio-cards-item-background-color: var(--accentBg);
}
.rt-RadioCardsItem:where(:not([data-state="checked"])){
	color:var(--ink) !important;
}

/* Typography */
h1{font-family:'Playfair Display', 'Source Serif Pro', Georgia, 'Times New Roman', serif;font-weight:700;line-height:1.15;margin:0 0 8px 0;font-size:56px}
h2{font-family:'Playfair Display', 'Source Serif Pro', Georgia, 'Times New Roman', serif;font-weight:700;line-height:1.2;margin:0 0 8px 0;font-size:32px}
h3{font-family:'Playfair Display', 'Source Serif Pro', Georgia, 'Times New Roman', serif;font-weight:700;line-height:1.25;margin:0 0 6px 0;font-size:22px}

/* Header */
.site-header{position:sticky;top:0;z-index:10;background:var(--bg);border-bottom:1px solid var(--border);backdrop-filter:saturate(1.1)}
.site-header__wrap{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:10px 16px;gap:12px}
.brand{font-family:'Playfair Display','Source Serif Pro', Georgia, 'Times New Roman', serif;font-weight:700;color:var(--primary);text-decoration:none;letter-spacing:.02em}
.nav{display:flex;gap:14px;flex-wrap:wrap}
.nav a{color:var(--primary);text-decoration:none;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.08em;padding:4px 6px;border:none;border-radius:0}
.nav a:hover{text-decoration:underline;background:transparent}

/* Layout */
.container{max-width:1200px;margin:0 auto;padding:20px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:14px}
.card{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:14px}

/* Buttons */
.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:8px;border:1px solid var(--primary);text-decoration:none;cursor:pointer;transition:all .15s ease}
.btn--primary{background:var(--primary);color:#fff;border-color:var(--primary)}
.btn--ghost{background:transparent;color:var(--primary);border-color:var(--border)}
.btn--accent{background:var(--gold);color:var(--accent-ink);border-color:var(--gold)}
.btn:hover{filter:brightness(.96)}

/* Forms */
label{display:block;font-weight:600;margin:8px 0 6px}
input,textarea,select{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:8px;background:var(--surface);color:var(--ink)}
/* Ensure radios/checkboxes do not expand to full width inside flex labels */
input[type="radio"],
input[type="checkbox"]{width:auto;padding:0;border:none;background:transparent}
input:focus,textarea:focus,select:focus{outline:none;border-color:#334155;box-shadow:0 0 0 3px rgba(11,19,43,.06)}

/* Hero */
.hero{display:grid;grid-template-columns:1.05fr .95fr;gap:16px;align-items:start}
.hero h1{margin:0 0 6px 0}
.hero__title{font-family:'Playfair Display','Source Serif Pro', Georgia, 'Times New Roman', serif;font-weight:700;font-size:56px;line-height:1.15;margin:0 0 8px 0;color:var(--ink)}
.hero p{margin:0 0 12px 0;color:var(--muted)}
.hero .actions{display:flex;gap:8px;flex-wrap:wrap}

/* Hero visual */
.hero-visual{position:relative;min-height:400px;overflow:hidden;background:radial-gradient(80% 80% at 70% 30%, rgba(79,70,229,.18) 0%, rgba(6,182,212,.10) 40%, rgba(255,255,255,0) 70%)}
.hero-visual__laurel{position:absolute;left:-20px;top:-10px;width:42%;max-width:220px;opacity:.9;pointer-events:none}
.hero-visual__justice{position:absolute;right:-8px;bottom:-4px;width:60%;max-width:420px;filter:drop-shadow(0 10px 24px rgba(79,70,229,.25))}

@media (max-width: 768px){
	.hero{grid-template-columns:1fr}
	.hero-visual{min-height:260px}
	.hero-visual__laurel{width:36%}
	.hero-visual__justice{width:56%}
}

/* Sections */
.section{padding:44px 0}
.section--tight{padding:16px 0}
.features{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.feature h3{margin:0 0 6px 0;font-size:18px}
.muted{color:var(--muted)}
.link-underline{text-decoration:underline}

/* Footer */
.footer{border-top:1px solid var(--border);background:var(--bg)}
.footer__wrap{max-width:1200px;margin:0 auto;padding:16px;display:grid;grid-template-columns:1.2fr 1fr 1fr;gap:14px;align-items:start;color:var(--ink)}
.footer small{color:var(--muted)}

/* Practice area */
.practice{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:14px}
.practice__card{display:flex;flex-direction:column;background:var(--surface);border:1px solid var(--border);border-radius:12px;overflow:hidden;color:inherit;text-decoration:none;transition:transform .15s ease, box-shadow .15s ease}
.practice__card:hover{transform:translateY(-2px);box-shadow:0 10px 28px rgba(197,164,109,0.22)}
.practice__img{width:100%;height:180px;object-fit:cover;background:var(--surface)}
.practice__body{padding:12px;border-top:2px solid rgba(197,164,109,.4)}
.practice__title{font-weight:700;margin:0 0 6px 0}
.practice__text{font-size:14px;line-height:1.5}

/* How it works */
.how{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.how__item{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:14px}
.how__icon{font-size:24px}
.how__title{font-weight:700;margin:6px 0}
.how__text{font-size:14px}

@media (max-width: 768px){
	.how{grid-template-columns:1fr}
}

/* Stats */
.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;background:linear-gradient(90deg,rgba(79,70,229,.06),rgba(6,182,212,.06));border:1px solid var(--border);border-radius:12px;padding:14px}
.stat{display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--surface);border-radius:10px;border:1px solid var(--border);padding:12px}
.stat__emoji{font-size:18px}
.stat__value{font-size:24px;font-weight:700}
.stat__label{font-size:12px;color:var(--muted)}

@media (max-width: 768px){
	.stats{grid-template-columns:repeat(2,1fr)}
}

/* CTA */
.section--cta{padding:48px 0}
.cta{display:flex;align-items:center;justify-content:space-between;gap:12px;border:1px solid transparent;border-radius:18px;padding:24px;background:linear-gradient(120deg,var(--grad-start),var(--grad-end));color:#fff}
.cta__title{margin:0 0 4px 0}
.cta__text{opacity:.95}
.cta__actions{display:flex;gap:8px;flex-wrap:wrap}
.cta .btn--primary{background:#fff;color:#111827}
.cta .btn--accent{background:#fde68a;color:#1f2937}

/* Accent chips for titles (optional) */
.practice__title::after{content:"";display:inline-block;width:6px;height:6px;border-radius:999px;background:linear-gradient(90deg,var(--grad-start),var(--grad-end));margin-left:6px;vertical-align:middle}

/* Dock & Sheet removed */



/* Dark mode overrides for common Tailwind utility classes in templates */
[data-theme="dark"] .bg-white{background:var(--surface) !important}
[data-theme="dark"] .bg-gray-50{background:var(--surface) !important}
[data-theme="dark"] .active\:bg-gray-100:active{background:var(--surface) !important}
[data-theme="dark"] .hover\:bg-gray-50:hover{background:var(--surface) !important}
[data-theme="dark"] .border-gray-200{border-color:var(--border) !important}
[data-theme="dark"] .border-gray-300{border-color:var(--border) !important}
[data-theme="dark"] .text-gray-900{color:var(--ink) !important}
[data-theme="dark"] .text-gray-800{color:var(--ink) !important}
[data-theme="dark"] .text-gray-700{color:var(--muted) !important}
[data-theme="dark"] .text-gray-600{color:var(--muted) !important}

/* Mobile nav control via header[data-menu-open] */
header .mobile-nav{display:none}
header[data-menu-open="true"] .mobile-nav{display:block}
@media (min-width: 768px){
	header .mobile-nav{display:none !important}
}
.logo-colors, .logo-colors svg, .logo-colors svg path{color:var(--accent);fill:var(--accent);stroke:var(--accent)}

/* Visible text selection highlight for both light and dark themes */
::selection{background:#bfdbfe;color:#111827;text-shadow:none}
::-moz-selection{background:#bfdbfe;color:#111827;text-shadow:none}
/* Ensure links and form controls have the same visible highlight in light theme */
a::selection, a::-moz-selection{background:#bfdbfe;color:#111827}
input::selection, textarea::selection{background:#bfdbfe;color:#111827}
[data-theme="dark"] ::selection{background:rgba(96,165,250,.35);color:#f9fafb;text-shadow:none}
[data-theme="dark"] ::-moz-selection{background:rgba(96,165,250,.35);color:#f9fafb;text-shadow:none}

/* Text selection override - allow text selection everywhere except UI controls */
* {
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
  user-select: text !important;
}

/* Disable text selection only for interactive UI elements */
button, input[type="button"], input[type="submit"], input[type="reset"],
.rt-Button, .rt-IconButton, .rt-SegmentedControlItem, .rt-TabsTrigger,
.rt-SelectTrigger, .rt-SelectItem, .rt-BaseMenuItem, .rt-SliderRoot,
.rt-ScrollAreaScrollbar, .btn, .nav a, .thread-item__icon, .thread-item__delete-icon {
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  user-select: none !important;
}

/* Ensure text content areas are always selectable */
p, h1, h2, h3, h4, h5, h6, span, div, article, section, main, 
.chat-bubble, .md-answer, .hero__title, .hero p, .practice__text,
.how__text, .stat__label, .cta__text, textarea, input[type="text"],
input[type="email"], input[type="password"], pre, code {
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
  user-select: text !important;
}

/* Chat bubbles */
.chat-bubble{max-width:85%; padding:10px 14px; border-radius:18px; font-size:14px; line-height:1.5; word-break:break-word; box-shadow:0 1px 0 rgba(0,0,0,.03)}
.chat-bubble--user{background-color:var(--chat-bubble-user-bg); color:var(--ink); border-top-right-radius:6px}
.chat-bubble--ai{box-shadow:none}
/* Error bubble appears like AI message but with red emphasis */
.chat-bubble--error{background:color-mix(in oklab, var(--rose) 12%, transparent); border:1px solid color-mix(in oklab, var(--rose) 40%, transparent); color:var(--rose)}

/* Tool call inline loader */
.tool-call-ui{margin-top:6px; display:flex; align-items:center; gap:6px; font-size:12px; color:var(--muted)}
.tool-call-spinner{display:inline-block; width:12px; height:12px; border:2px solid var(--border); border-top-color: var(--muted); border-radius:999px; animation:spin .9s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* Thread list items with icons staying within row */
.thread-item{display:flex; max-width:100%; align-items:center; justify-content:space-between; gap:6px}
.thread-item__title{display:block; flex:1; max-width:100%; text-overflow:ellipsis; white-space:nowrap; overflow:hidden; border-radius:8px; padding:6px 8px; text-align:left}
.thread-item__icon, .thread-item__delete-icon{display:inline-flex; align-items:center; justify-content:center; width:26px; height:26px; border-radius:6px; color:#9CA3AF; background:transparent; border:1px solid transparent}
.thread-item__icon:hover{color:#4B5563; background:var(--surface); border-color:var(--border)}
.thread-item__delete-icon:hover{color:red; background:var(--surface); border-color:var(--border)}
.thread-button-group{display:flex; align-items:center; gap:6px}


@media (max-width: 768px){
  .thread-item{grid-template-columns:1fr auto auto}
  .chat-bubble{max-width:90%}
  /* Мобильная версия чата без рамок и скруглений */
  #chatBody{border:none !important; border-radius:0 !important}
}

/* Высота страницы чата: 100vh минус высота хэдера, без скролла body */
.chat-fullscreen{
  height:calc(100dvh - var(--header-h, 56px));
}

/* Timeline component styles */
.timeline-bubble-start {
    position: absolute;
    top: -32px;
    font-size: 11px;
    font-weight: 600;
    padding: 2px 8px;
    border-radius: 4px;
    white-space: nowrap;
    background: color-mix(in oklab, var(--accent) 10%, transparent);
    color: var(--accent);
}

.timeline-bubble-end {
    position: absolute;
    top: -32px;
    font-size: 11px;
    font-weight: 600;
    padding: 2px 8px;
    border-radius: 4px;
    white-space: nowrap;
    background: color-mix(in oklab, var(--accent) 10%, transparent);
    color: var(--accent);
}

.timeline-bubble-today {
    position: absolute;
    bottom: -48px;
    font-size: 11px;
    font-weight: 600;
    padding: 2px 8px;
    border-radius: 4px;
    white-space: nowrap;
    background: color-mix(in oklab, var(--accent) 10%, transparent);
    color: var(--accent);
}

.timeline-date-start {
    position: absolute;
    bottom: -24px;
    font-size: 11px;
    white-space: nowrap;
    color: var(--muted);
}

.timeline-date-end {
    position: absolute;
    bottom: -24px;
    font-size: 11px;
    white-space: nowrap;
    color: var(--muted);
}

/* Mobile responsive timeline bubbles */
@media (max-width: 640px) {
    .timeline-bubble-start,
    .timeline-bubble-end {
        top: -48px;
        max-width: 80px;
        white-space: normal;
        text-align: center;
        line-height: 1.2;
    }
    
    .timeline-bubble-today {
        bottom: -64px;
        max-width: 90px;
        white-space: normal;
        text-align: center;
        line-height: 1.2;
    }
}

/* Стили для модальных окон отмены подписки */
.modal-backdrop {
    position: fixed;
    inset: 0;
    z-index: 50;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.2s ease-out;
}

.modal-content {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 1rem;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    max-width: 28rem;
    width: 100%;
    margin: 1rem;
    max-height: 90vh;
    overflow-y: auto;
    animation: slideIn 0.3s ease-out;
}

.modal-icon-success {
    background: color-mix(in oklab, #10b981 15%, transparent);
    color: #10b981;
}

.modal-icon-warning {
    background: color-mix(in oklab, #ef4444 15%, transparent);
    color: #ef4444;
}

.modal-icon-info {
    background: color-mix(in oklab, var(--accent) 15%, transparent);
    color: var(--accent);
}

.radio-option {
    transition: all 0.2s ease;
}

.radio-option:hover {
    background: color-mix(in oklab, var(--accent) 5%, transparent);
}

.radio-option.selected {
    background: color-mix(in oklab, var(--accent) 10%, transparent);
    border-color: var(--accent);
}

.radio-dot {
    width: 1rem;
    height: 1rem;
    border-radius: 50%;
    border: 2px solid var(--border);
    margin-right: 0.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: border-color 0.2s ease;
}

.radio-dot.selected {
    border-color: var(--accent);
}

.radio-dot-inner {
    width: 0.5rem;
    height: 0.5rem;
    border-radius: 50%;
    background: var(--accent);
}

.loading-spinner {
    width: 1rem;
    height: 1rem;
    border: 2px solid #ffffff;
    border-top: 2px solid transparent;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(-20px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}